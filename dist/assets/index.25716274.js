var f=Object.defineProperty;var y=(s,t,o)=>t in s?f(s,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[t]=o;var r=(s,t,o)=>(y(s,typeof t!="symbol"?t+"":t,o),o);import{g as u,l as p,S as g,P as x,W as _,B as b,M as L,a as E}from"./vendor.e54d0d5d.js";const T=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function o(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerpolicy&&(i.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?i.credentials="include":e.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(e){if(e.ep)return;e.ep=!0;const i=o(e);fetch(e.href,i)}};T();class M{constructor(){r(this,"lerp_scroll");r(this,"params");r(this,"touch");r(this,"isDown");this.params={w:window.innerWidth,h:window.innerHeight,depth:100,color:"#fff",direction:{x:"down",y:"down"},speed:-2},this.lerp_scroll={ease:.1,current:0,target:0,last:0,x:{current:0,target:0,last:0},y:{current:0,target:0,last:0}},this.touch={x:{start:0,position:0},y:{start:0,position:0},position:0},this.isDown=!1,u.ticker.add(this.onRaf.bind(this)),u.ticker.fps(30),this.init()}init(){window.addEventListener("wheel",this.onWheel.bind(this)),window.addEventListener("mousedown",this.onTouchDown.bind(this)),window.addEventListener("mousemove",this.onTouchMove.bind(this)),window.addEventListener("mouseup",this.onTouchUp.bind(this)),window.addEventListener("touchstart",this.onTouchDown.bind(this)),window.addEventListener("touchmove",this.onTouchMove.bind(this)),window.addEventListener("touchend",this.onTouchUp.bind(this))}destroy(){window.removeEventListener("wheel",this.onWheel.bind(this)),window.removeEventListener("mousedown",this.onTouchDown.bind(this)),window.removeEventListener("mousemove",this.onTouchMove.bind(this)),window.removeEventListener("mouseup",this.onTouchUp.bind(this)),window.removeEventListener("touchstart",this.onTouchDown.bind(this)),window.removeEventListener("touchmove",this.onTouchMove.bind(this)),window.removeEventListener("touchend",this.onTouchUp.bind(this))}toUpdateX(){this.lerp_scroll.x.current=p(this.lerp_scroll.x.current,this.lerp_scroll.x.target,this.lerp_scroll.ease)}toUpdateY(){this.lerp_scroll.y.current=p(this.lerp_scroll.y.current,this.lerp_scroll.y.target,this.lerp_scroll.ease)}onWheel(t){this.lerp_scroll.y.target+=.5*t.deltaY,this.lerp_scroll.x.target+=.5*t.deltaX}onTouchDown(t){console.log("down"),this.isDown=!0,this.touch.x.position=this.lerp_scroll.x.current,this.touch.y.position=this.lerp_scroll.y.current,"touches"in t?(this.touch.x.start=t.touches[0].clientX,this.touch.y.start=t.touches[0].clientY):(this.touch.x.start=t.clientX,this.touch.y.start=t.clientY)}onTouchMove(t){if(this.isDown)if(console.log("move"),"touches"in t){const o=-2*(this.touch.x.start-t.touches[0].clientX)*2,n=-2*(this.touch.y.start-t.touches[0].clientY)*2;this.lerp_scroll.x.target=this.touch.x.position+o,this.lerp_scroll.y.target=this.touch.y.position+n}else{const o=-2*(this.touch.x.start-t.clientX)*2,n=-2*(this.touch.y.start-t.clientY)*2;this.lerp_scroll.x.target=this.touch.x.position+o,this.lerp_scroll.y.target=this.touch.y.position+n}}onTouchUp(){console.log("up"),this.isDown=!1}onRaf(){this.toUpdateX(),this.toUpdateY(),this.lerp_scroll.x.last=this.lerp_scroll.x.current,this.lerp_scroll.y.last=this.lerp_scroll.y.current,this.update()}update(){}}const d=new M;d.update=()=>{a.rotation.x=d.lerp_scroll.y.current*.01,a.rotation.y=d.lerp_scroll.x.current*.01};let w=new g,h=new x(75,window.innerWidth/window.innerHeight,.1,1e3);h.position.z=5;let l=new _;l.setSize(window.innerWidth,window.innerHeight);document.body.appendChild(l.domElement);let D=new b(1,1,1),W=new L,a=new E(D,W);w.add(a);let m=()=>{requestAnimationFrame(m),l.render(w,h)};m();let v=()=>{const s=window.innerWidth,t=window.innerHeight;l.setPixelRatio(window.devicePixelRatio),l.setSize(s,t),h.aspect=s/t,h.updateProjectionMatrix()};window.addEventListener("resize",v);v();
